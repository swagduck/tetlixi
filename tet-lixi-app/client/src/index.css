/* client/src/index.css */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Quicksand:wght@500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); /* Font ƒëi·ªán t·ª≠ retro */

:root {
  --tet-red: #D2001A;
  --tet-yellow: #FFDE59;
  --tet-gold: #C69C3A;
  --my-blue: #004AAD;
  --cream: #FFF8E7;
}

body {
  margin: 0;
  background: linear-gradient(135deg, var(--tet-red), #ff6b6b, var(--tet-gold));
  color: var(--cream);
  font-family: 'Quicksand', sans-serif;
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
}

/* H·ªça ti·∫øt n·ªÅn */
body::before {
  content: ''; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(255, 222, 89, 0.1) 0%, transparent 50%),
    radial-gradient(var(--tet-gold) 15%, transparent 16%),
    url('data:image/svg+xml;utf8,<svg width="100" height="100" transform="rotate(45)" opacity="0.1" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M10 10 L50 10 L50 50 L10 50 Z" fill="none" stroke="%23FFDE59" stroke-width="2"/></svg>');
  background-size: cover, 60px 60px, 30px 30px;
  background-blend-mode: overlay;
  z-index: -2; pointer-events: none;
}

h1 {
  font-family: 'Playfair Display', serif;
  color: var(--tet-yellow);
  text-shadow: 3px 3px 0px #8b0000, 0 0 20px rgba(255, 222, 89, 0.5);
  text-transform: uppercase; letter-spacing: 1px;
}

/* Card Giao di·ªán */
.tet-card {
  background: rgba(255, 248, 231, 0.95);
  border: 4px solid var(--tet-gold); border-radius: 25px;
  box-shadow: 0 15px 35px rgba(0,0,0,0.3), 0 0 20px rgba(255, 222, 89, 0.3) inset;
  padding: 30px; max-width: 400px; width: 90%;
  text-align: center; position: relative; overflow: hidden;
}
.tet-card::after {
  content: 'üåº'; font-size: 4rem; position: absolute; bottom: -10px; right: -10px; opacity: 0.2; transform: rotate(-20deg);
}

/* Input & Button */
input.tet-input {
  width: 100%; padding: 12px; margin: 10px 0;
  border: 2px solid var(--tet-gold); border-radius: 15px;
  font-family: 'Quicksand', sans-serif; font-size: 1rem; outline: none; box-sizing: border-box;
  background: rgba(255, 255, 255, 0.8);
}
input.tet-input:focus { border-color: var(--my-blue); box-shadow: 0 0 15px rgba(0, 74, 173, 0.3); }

.btn-tet {
  background: linear-gradient(45deg, var(--my-blue), #0066ff);
  color: white; border: none; padding: 15px 30px;
  font-size: 1.2rem; font-weight: bold; border-radius: 50px; cursor: pointer;
  box-shadow: 0 6px 0 #00337a, 0 10px 20px rgba(0, 74, 173, 0.4);
  transition: all 0.2s; width: 100%; margin-top: 15px; text-transform: uppercase;
}
.btn-tet:active { transform: translateY(4px); box-shadow: 0 2px 0 #00337a; }

/* Text Utils */
.text-dark { color: #333; }

/* Hoa r∆°i */
.blossom-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: -1; overflow: hidden; }
.blossom { position: absolute; top: -50px; animation: fall linear infinite; opacity: 0.8; }
.blossom.peach::before { content: 'üå∏'; }
.blossom.apricot::before { content: 'üåº'; }
@keyframes fall { 100% { transform: translateY(110vh) rotate(360deg) translateX(50px); opacity: 0; } }

/* Rung & Popup */
@keyframes shake-hard {
  0% { transform: translate(0,0) rotate(0); } 20% { transform: translate(-5px,3px) rotate(5deg); }
  40% { transform: translate(5px,-3px) rotate(-5deg); } 60% { transform: translate(-3px,5px) rotate(3deg); }
  80% { transform: translate(3px,3px) rotate(-3deg); } 100% { transform: translate(0,0) rotate(0); }
}
.shake-active { animation: shake-hard 0.6s ease-in-out infinite; box-shadow: 0 0 50px var(--tet-yellow) !important; }
@keyframes popIn { 0% { transform: scale(0); opacity: 0; } 70% { transform: scale(1.1); } 100% { transform: scale(1); opacity: 1; } }

/* --- NEW: ANIMATION H·ªíI H·ªòP --- */
.win-overlay {
  position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
  background: radial-gradient(circle, #330000 0%, #000000 90%); /* N·ªÅn t·ªëi nguy hi·ªÉm */
  z-index: 2000;
  display: flex; flex-direction: column; align-items: center; justify-content: center; overflow: hidden;
  animation: heartbeat 0.5s infinite; /* Nh·ªãp tim h·ªìi h·ªôp */
}

.suspense-text {
  font-size: 1.5rem; color: #aaa; margin-bottom: 20px; font-style: italic;
  min-height: 30px; animation: fadeInOut 0.5s infinite;
}

.rolling-number {
  font-family: 'Press Start 2P', cursive; /* Font ƒëi·ªán t·ª≠ */
  font-size: 3.5rem; color: var(--tet-yellow);
  text-shadow: 0 0 10px var(--tet-red), 0 0 30px var(--tet-gold);
  z-index: 5;
}

.running-horse {
  position: absolute; top: 60%; font-size: 8rem; filter: drop-shadow(0 10px 10px rgba(0,0,0,0.5));
  animation: horseRunAcross 3.5s cubic-bezier(0.4, 0, 0.2, 1) forwards; z-index: 2;
}

@keyframes heartbeat {
  0% { background-size: 100% 100%; }
  50% { background-size: 105% 105%; } /* Zoom n·ªÅn nh·∫π t·∫°o c·∫£m gi√°c tim ƒë·∫≠p */
  100% { background-size: 100% 100%; }
}

@keyframes horseRunAcross {
  0% { left: -30%; transform: translateY(-50%) rotate(-10deg); }
  40% { left: 40%; transform: translateY(-60%) rotate(5deg) scale(1.2); } /* Ch·∫°y ch·∫≠m l·∫°i gi·ªØa m√†n h√¨nh ƒë·ªÉ tr√™u */
  60% { left: 60%; transform: translateY(-50%) rotate(-5deg) scale(1.2); }
  100% { left: 130%; transform: translateY(-50%) rotate(0deg); }
}

@keyframes fadeInOut { 0%,100% { opacity: 0.5; } 50% { opacity: 1; } }

/* --- MOBILE RESPONSIVE (Th√™m v√†o cu·ªëi file index.css) --- */

@media screen and (max-width: 768px) {
  /* 1. Thu nh·ªè ti√™u ƒë·ªÅ cho ƒë·ª° t·ªën di·ªán t√≠ch */
  h1 {
    font-size: 1.8rem !important; 
    margin-bottom: 5px;
  }
  
  /* 2. Thu nh·ªè logo Ng·ª±a & Ti·ªÅn */
  .logo-horse {
    font-size: 3.5rem !important; /* G·ªëc l√† 5rem */
  }

  /* 3. Ch·ªânh l·∫°i Card cho g·ªçn */
  .tet-card {
    padding: 20px 15px; /* Gi·∫£m padding */
    width: 92%; /* Ra s√°t m√©p m√†n h√¨nh h∆°n */
    border-width: 3px; /* Vi·ªÅn m·ªèng l·∫°i ch√∫t */
  }

  /* 4. Ch·ªØ trong Card nh·ªè l·∫°i */
  .tet-card h2 { font-size: 1.5rem !important; }
  .tet-card p { font-size: 1rem !important; }

  /* 5. N√∫t L·∫Øc nh·ªè l·∫°i ch√∫t cho v·ª´a ng√≥n tay c√°i */
  .shake-active, div[style*="width: 150px"] {
    width: 130px !important;
    height: 130px !important;
  }
  
  /* 6. QUAN TR·ªåNG: Ch·ªânh l·∫°i Animation Ng·ª±a ch·∫°y */
  /* Tr√™n ƒëi·ªán tho·∫°i ng·ª±a to qu√° s·∫Ω che h·∫øt m√†n h√¨nh */
  .running-horse {
    font-size: 5rem !important; /* G·ªëc l√† 8rem */
    top: 45% !important;
  }

  /* 7. Ch·ªânh s·ªë ti·ªÅn tr√∫ng th∆∞·ªüng kh·ªïng l·ªì */
  .win-amount-huge {
    font-size: 3rem !important; /* G·ªëc l√† 5rem */
    padding: 0 10px;
    text-align: center;
  }

  /* 8. ƒê·∫©y n√∫t √Çm thanh xu·ªëng th·∫•p ho·∫∑c g·ªçn h∆°n n·∫øu b·ªã che */
  div[style*="position: absolute; top: 10"] {
    top: 15px !important;
    right: 15px !important;
  }
}

/* Fix l·ªói Iphone (Safari) ƒë√¥i khi kh√¥ng hi·ªÉu vh */
@supports (-webkit-touch-callout: none) {
  body { min-height: -webkit-fill-available; }
}